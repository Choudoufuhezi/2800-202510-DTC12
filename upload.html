<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload a Memory</title>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://kit.fontawesome.com/dd6ea4ec65.js" crossorigin="anonymous"></script>
</head>

<body class="bg-[#f5f3eb98]">
    <!--Top Nav-->
    <nav id="topNav" class="sticky top-0"></nav>

    <!--Main Content-->
    <div class="min-h-[calc(102vh-64px-64px)]">

        <main class="max-w-xl mx-auto px-4 py-10">
            <!-- Page Title -->
            <h2 class="text-2xl font-bold text-gray-800 text-center mb-2">Upload a New Memory</h2>

            <!-- Upload Context Line -->
            <p id="uploadContext" class="text-center text-sm text-gray-500 mb-6">
                Select a family, member, and category below to upload.
            </p>

            <!-- Upload Form -->
            <form id="uploadForm" class="bg-white p-6 rounded-xl shadow-md space-y-6" enctype="multipart/form-data">

                <!-- Dropdowns -->
                <div class="grid grid-cols-1 gap-4">
                    <div>
                        <label for="familyGroup" class="block text-sm font-medium text-gray-700 mb-1">Family
                            Group</label>
                        <select id="familyGroup" required
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <option value="" disabled selected>Select Family</option>
                            <option value="smith-family">Smith Family</option>
                            <option value="johnson-clan">Johnson Clan</option>
                            <option value="kaur-family">Kaur Family</option>
                        </select>
                    </div>

                    <div>
                        <label for="memberName" class="block text-sm font-medium text-gray-700 mb-1">Family
                            Member</label>
                        <select id="memberName" required
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <option value="" disabled selected>Select Member</option>
                            <option value="grandma-rose">Grandma Rose</option>
                            <option value="uncle-sam">Uncle Sam</option>
                            <option value="cousin-lily">Cousin Lily</option>
                        </select>
                    </div>

                    <div>
                        <label for="memoryCategory"
                            class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                        <select id="memoryCategory" required
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <option value="" disabled selected>Select Category</option>
                            <option value="photos">Photos</option>
                            <option value="recipes">Recipes</option>
                            <option value="storybook">Storybook</option>
                        </select>
                    </div>
                </div>

                <!-- Memory Title -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Memory Title</label>
                    <input type="text" name="title" required
                        class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"
                        placeholder="e.g., Grandma's 80th Birthday" />
                </div>

                <!-- Description -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Memory Description</label>
                    <textarea name="description" rows="4" required
                        class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"
                        placeholder="Write about the memory..."></textarea>
                </div>

                <!-- File Upload -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Upload Photo or Video</label>
                    <input type="file" name="file" accept="image/*,video/*" required
                        class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" />
                </div>

                <!-- Upload Button -->
                <div class="flex justify-center">
                    <button type="button" onclick="showSuccessPopup()"
                        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-md transition duration-300">
                        <i class="fas fa-upload mr-2"></i> Upload Memory
                    </button>
                </div>
            </form>
        </main>

        <!-- Upload Success Modal -->
        <div id="successModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
            <div class="bg-white w-full max-w-md rounded-xl shadow-lg p-6 text-center">
                <h3 class="text-2xl font-semibold text-green-600 mb-4">âœ… Upload Successful</h3>
                <p id="successMessage" class="text-gray-700 mb-6">
                    Your memory has been uploaded!
                </p>
                <div class="flex justify-center gap-4">
                    <button onclick="closeModal()"
                        class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold px-4 py-2 rounded">
                        Upload Another
                    </button>
                    <button id="viewMemoriesBtn"
                        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded">
                        View Memories
                    </button>
                </div>
            </div>
        </div>

        <!--Bottom Nav-->
        <nav id="bottomNav" class="sticky bottom-0"></nav>

        <!--Footer-->
        <nav id="footer"></nav>

        <!--JavaScript-->
        <script src="../scripts/add_nav.js"></script>
        <script src="../scripts/upload.js"></script>
    </div>

</body>

</html>